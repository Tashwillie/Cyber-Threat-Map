/* Fixed Layout for 1280x587 Screen Resolution - Viewport Fit */

/* Reset and base styles */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/* Ensure full viewport coverage */
html, body {
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  margin: 0;
  padding: 0;
}

/* Fixed viewport for 1280x587 - using viewport units */
#root {
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  position: fixed;
  top: 0;
  left: 0;
  transform-origin: top left;
}

/* Scale to fit 1280x587 aspect ratio */
#root {
  transform: scale(calc(100vw / 1280), calc(100vh / 587));
  width: 1280px;
  height: 587px;
}

/* Top bar - proportional height */
.top-bar {
  width: 1280px;
  height: 64px;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  flex-shrink: 0;
  z-index: 100;
}

/* Main content - remaining height */
.main-content {
  width: 1280px;
  height: 523px; /* 587 - 64 = 523px */
  display: flex;
  overflow: hidden;
  position: relative;
}

/* Left sidebar - proportional width */
.sidebar-left {
  width: 250px;
  height: 523px;
  display: flex;
  flex-direction: column;
  flex-shrink: 0;
  z-index: 10;
}

/* Right sidebar - proportional width */
.sidebar-right {
  width: 250px;
  height: 523px;
  display: flex;
  flex-direction: column;
  flex-shrink: 0;
  z-index: 10;
}

/* Map container - remaining width */
.map-container {
  width: 780px; /* 1280 - 250 - 250 = 780px */
  height: 523px;
  display: flex;
  flex-direction: column;
  position: relative;
  background: #10131f;
  overflow: hidden;
  align-items: center;
}

/* Sidebar content */
.sidebar-content {
  display: block;
  visibility: visible;
  opacity: 0.95;
  overflow-y: auto;
  flex: 1;
}

/* Legend - proportional at bottom of map */
.legend {
  width: 780px;
  height: 60px;
  display: flex;
  visibility: visible;
  z-index: 20;
  flex-shrink: 0;
  position: relative;
  background: rgba(16, 19, 31, 0.98);
  border-top: 2px solid #23203b;
  align-items: center;
  justify-content: center;
  gap: 32px;
}

/* Map 2D container */
.map-2d-container {
  width: 100%;
  height: 100%;
  max-width: 100%;
  max-height: 100%;
  overflow: hidden;
  object-fit: contain;
}

/* Proportional typography */
h1 {
  font-size: 36px;
  margin: 0;
  margin-bottom: 12px;
}

.attack-counter {
  font-size: 48px;
}

.legend-item {
  font-size: 16px;
}

.sidebar-content {
  font-size: 14px;
}

/* Ensure all elements are visible */
.sidebar-left,
.sidebar-right,
.legend,
.map-container {
  display: flex !important;
  visibility: visible !important;
}

/* Force viewport to maintain aspect ratio */
@media (max-aspect-ratio: 1280/587) {
  #root {
    transform: scale(calc(100vw / 1280));
    height: calc(100vw * 587 / 1280);
  }
}

@media (min-aspect-ratio: 1280/587) {
  #root {
    transform: scale(calc(100vh / 587));
    width: calc(100vh * 1280 / 587);
  }
}
